# 🧭 수지네 심리 탐험소
## 📝 개요
심리 테스트를 통해 나를 이해할 수 있는 프로그램

## 🚀 실행 방법
1. 컴파일
```bash
javac -cp "lib/*" -d out src/**/*.java
```
2. 실행
```bash
# Linux/Mac
java -cp "lib/*:out" Main
# Windows
java -cp "lib/*;out" Main
```
## 🎬 실행화면
![Image](https://github.com/user-attachments/assets/3c09ef72-4751-4c82-a9a2-8900404de295)

## 👥 유저 시나리오

1. 심리 테스트 목록 조회
2. 심리 테스트 선택
3. 심리 테스트 진행
4. 심리 테스트 결과 조회
5. 새로운 심리 테스트 진행 또는 종료

## ⭐ 주요 기능
- [x] 심리 테스트 목록 조회
- [x] 심리 테스트 진행
- [x] 심리 테스트 결과 조회
- [x] 새로운 심리 테스트 진행 또는 종료
- [x] 입력 예외처리

## 📁 폴더 구조
```
├── README.md
├── lib
│   └── gson-2.10.1.jar
└── src
    ├── Main.java
    ├── manager
    │   └── FlowManager.java
    └── surveys
        ├── Survey.java
        ├── answer
        │   ├── FiveLevelAnswer.java
        │   └── ThreeLevelAnswer.java
        └── types
            ├── LifeSatisfactionSurvey.java
            ├── LoveTypeSurvey.java
            ├── StressSurvey.java
            └── surveys.json
```
## 📊 클래스 다이어 그램
![class diagram](https://github.com/user-attachments/assets/b9830383-0573-43c9-a0e3-0c013f8b95c3)

## 📚 외부 라이브러리
### Gson 2.10.1
- 위치 : `lib/gson-2.10.1.jar`
- 용도 : JSON 파싱

## 💭 회고

실제 서비스가 된다면 어떤 부분을 신경 써야할지 확장성과 유지보수성 측면에서 고민을 했습니다. 

### 1. 심리 테스트 종류 추가

새로운 심리 테스트를 쉽게 추가할 수 있도록 설계하였습니다.

**구현 방식:**
- 추상 클래스를 통한 필수 메서드 명시
- 공통 기능은 최상위 부모 클래스에서 구현
- 하위 설문 클래스는 설문별 특화 로직만 구현
- FlowManager에서 생성자 인수로 새로운 심리 테스트를 추가하면 즉시 적용되도록 구현

### 2. 응답 선택지 변동

응답 선택지 수준을 유연하게 변경할 수 있도록 설계하였습니다.
(예: 3점 척도 → 5점 척도)

**구현 방식:**
- 응답 선택지 타입을 상속 구조로 설계
- FiveLevelAnswer, ThreeLevelAnswer 등 선택지 클래스 구현
- 선택지 변경 시 해당 클래스만 수정하면 되도록 설계

### 3. 심리 테스트 문항 문구 변동

테스트 문항 문구를 유연하게 관리할 수 있도록 설계하였습니다.

**구현 방식:**
- 문항과 결과 문구를 JSON 파일로 외부 관리
- 설문 내용 수정 시 소스 코드 변경 없이 JSON 파일만 수정

C++ 경험은 있지만 자바는 처음이었어서 컨벤션, Scanner, 외부 라이브러리 (gson) 추가할 때 어려움을 겪었었습니다.

### 기타 사항

- 심리 테스트 문항과 결과 문구는 Claude 의 도움을 받아 작성되었습니다.

### 4. 비동기 프로그래밍 도입

설문 진행 시간을 측정하여 사용자의 응답 성실도를 평가하는 기능을 추가했습니다.

**구현 방식:**
- Thread 클래스를 활용한 시간 측정
- 관심사 분리를 위해 독립적인 SurveyTimeManager 클래스 구현
- 캡슐화를 위해 FlowManager에서 시간 관리 로직 제어
- 문항 수에 따른 최소 권장 응답 시간 계산
- 응답 시간에 따른 피드백 제공

**설계 고려사항:**
- 시간 측정 로직을 별도 클래스로 분리하여 유지보수성 향상
- 스레드 안전성을 위한 volatile 변수 활용
- 예외 상황 처리를 통한 안정성 확보
- 사용자 경험을 고려한 시간 측정 결과 피드백 

**실행 화면 예시:**
1. 케이스 1: 적절한 응답 시간
```
⏱️ 설문 소요 시간: 2분 30초
✨ 설문을 착실하게 답변해주셨네요!
💝 신중한 답변 감사합니다.
```
2. 케이스 2: 빠른 응답 시간
```
⏱️ 설문 소요 시간: 15초
⚠️ 답변 시간이 매우 빠르네요!
💡 더 신중한 답변을 하시면 더 정확한 결과를 얻을 수 있습니다.
💭 권장 최소 시간: 2분
```
3. 케이스 3: 예외 상황
```
⚠️ 시간을 카운트하는데 문제가 발생했습니다.
다음에 설문 소요 시간 알려드릴게요 !
```
